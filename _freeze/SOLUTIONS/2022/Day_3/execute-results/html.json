{
  "hash": "33944e23f7e5df99da819ab1ca3246ea",
  "result": {
    "markdown": "---\ntitle: \"Day 3\"\nauthor: \"Julia Romanowska\"\n---\n\n\n\n\n## Data\n\nEach line is a list of items in one rucksack.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(rucksack_data <- read_table(\n  here(\"DATA\", \"2022\", \"input_day_03.txt\"),\n  col_names = FALSE\n))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\ncols(\n  X1 = col_character()\n)\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 300 √ó 1\n   X1                                            \n   <chr>                                         \n 1 DMwrszrfMzSSCpLpfCCn                          \n 2 RMvhZhQqlvhMvRtbvbcPclPlncddppLTdppd          \n 3 tVMQhFtjjWmsFJsmsW                            \n 4 trRtvNhfJhSzzSTFVhQQZQhHGphP                  \n 5 CnLMBWLwDMgMcwwdngdHGPVTQGpTHZdGPGpd          \n 6 LLDqcDgwqCMnLWqtvzrzbbtJqPjJ                  \n 7 wQQwHNQLmbWQbQRHwHNFBbwqPfjqlzRMGRqzpSfvPlzplM\n 8 nCtGCZZtsGsrtDMZpfMpSlMlvlZq                  \n 9 cJctJCgVJsCJnDTsCthGhGLwBWBbbQmLbgQLQQdWbbbQ  \n10 ZWnNlTNTnhhQQlDNdmmpwrrrqBwjwjZd              \n# ‚Ñπ 290 more rows\n```\n:::\n:::\n\n\n## Find the repeating item\n\nFirst, we need to find the middle of each string and divide.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrucksack_divided <- map(\n  rucksack_data$X1,\n  function(item_list){\n    split_at <- str_length(item_list)/2\n    out_strings <- c(\n      str_sub(item_list, start = 1, end = split_at),\n      str_sub(item_list, start = split_at + 1, end = -1)\n    )\n    return(out_strings)\n  }\n)\nrucksack_divided[[1]]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"DMwrszrfMz\" \"SSCpLpfCCn\"\n```\n:::\n:::\n\n\nNext, compare the strings in each compartment to find the repeating item for\neach rucksack.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrepeating_items <- map(\n  rucksack_divided,\n  function(compartments){\n    unique_contents <- map(\n      compartments,\n      function(item_list){\n        strsplit(item_list, split = \"\") %>%\n          unlist() %>%\n          unique()\n      }\n    )\n    return(Reduce(f = intersect, x = unique_contents))\n  }\n)\nrepeating_items[[1]]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"f\"\n```\n:::\n:::\n\n\nChecking - do I get only one item per rucksack?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlengths(repeating_items) %>%\n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n\n‚úîÔ∏è Yes, great!\n\n## Priority of items\n\nLowercase letters have priorities from 1 through 26, uppercase letters - from 27\nthrough 52.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npriority_low <- str_locate(\n  paste0(letters, collapse = \"\"), letters\n)[, \"start\"]\npriority_low <- tibble(\n  letter = letters,\n  prior = priority_low\n)\npriority_low\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 26 √ó 2\n   letter prior\n   <chr>  <int>\n 1 a          1\n 2 b          2\n 3 c          3\n 4 d          4\n 5 e          5\n 6 f          6\n 7 g          7\n 8 h          8\n 9 i          9\n10 j         10\n# ‚Ñπ 16 more rows\n```\n:::\n\n```{.r .cell-code}\npriority_up <- str_locate(\n  paste0(LETTERS, collapse = \"\"), LETTERS\n)[, \"start\"] + 26\npriority_up <- tibble(\n  letter = LETTERS,\n  prior = priority_up\n)\npriority_up\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 26 √ó 2\n   letter prior\n   <chr>  <dbl>\n 1 A         27\n 2 B         28\n 3 C         29\n 4 D         30\n 5 E         31\n 6 F         32\n 7 G         33\n 8 H         34\n 9 I         35\n10 J         36\n# ‚Ñπ 16 more rows\n```\n:::\n\n```{.r .cell-code}\npriority_all <- bind_rows(\n  priority_low, priority_up\n)\n```\n:::\n\n\nNow, find the sum of the priorities of repeated items.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_priority <- tibble(\n  repeat_item = unlist(repeating_items)\n  ) %>%\n  left_join(\n    priority_all,\n    by = c(\"repeat_item\" = \"letter\")\n  ) %>%\n  summarise(sum_priority = sum(prior))\n```\n:::\n\n\n\n::: {.card .border-success .mb-3}\n::: {.card-text}\nThe total priority is 7811! ü•≥\n:::\n:::\n\n## Group badges\n\nEach three elves create a group and they are recognized by the item that they\ncarry. This item is the only item that is shared by these elves.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# there are 3 members in each group\nno_members <- 3\n(rucksack_groups <- rucksack_data %>%\n  add_column(group_no = \n               rep(\n                 seq(1:(nrow(rucksack_data)/no_members)),\n                 each = no_members\n                )\n             ))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 300 √ó 2\n   X1                                             group_no\n   <chr>                                             <int>\n 1 DMwrszrfMzSSCpLpfCCn                                  1\n 2 RMvhZhQqlvhMvRtbvbcPclPlncddppLTdppd                  1\n 3 tVMQhFtjjWmsFJsmsW                                    1\n 4 trRtvNhfJhSzzSTFVhQQZQhHGphP                          2\n 5 CnLMBWLwDMgMcwwdngdHGPVTQGpTHZdGPGpd                  2\n 6 LLDqcDgwqCMnLWqtvzrzbbtJqPjJ                          2\n 7 wQQwHNQLmbWQbQRHwHNFBbwqPfjqlzRMGRqzpSfvPlzplM        3\n 8 nCtGCZZtsGsrtDMZpfMpSlMlvlZq                          3\n 9 cJctJCgVJsCJnDTsCthGhGLwBWBbbQmLbgQLQQdWbbbQ          3\n10 ZWnNlTNTnhhQQlDNdmmpwrrrqBwjwjZd                      4\n# ‚Ñπ 290 more rows\n```\n:::\n\n```{.r .cell-code}\nfind_common_item <- function(items_list){\n  unique_items <- map(items_list, function(items){\n    str_split(items, pattern = \"\") %>%\n      unlist() %>%\n      unique()\n  })\n  return(\n    Reduce(intersect, unique_items)\n  )\n}\n\n(rucksack_groups <- rucksack_groups %>%\n  group_by(group_no) %>%\n  summarise(\n    common_item = find_common_item(X1)\n  ) %>%\n  left_join(priority_all, by = c(\"common_item\" = \"letter\")))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 100 √ó 3\n   group_no common_item prior\n      <int> <chr>       <dbl>\n 1        1 M              39\n 2        2 P              42\n 3        3 G              33\n 4        4 l              12\n 5        5 s              19\n 6        6 t              20\n 7        7 Z              52\n 8        8 n              14\n 9        9 p              16\n10       10 z              26\n# ‚Ñπ 90 more rows\n```\n:::\n\n```{.r .cell-code}\nsum_prior <- rucksack_groups %>%\n  summarise(sum_prior = sum(prior)) %>%\n  pull()\n```\n:::\n\n\n::: {.card .border-success .mb-3}\n::: {.card-text}\nThe total priority is 2639! ü•≥\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}